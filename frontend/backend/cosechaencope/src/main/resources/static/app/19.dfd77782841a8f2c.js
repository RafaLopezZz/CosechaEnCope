"use strict";(self.webpackChunkcosecha_en_cope=self.webpackChunkcosecha_en_cope||[]).push([[19],{6019:(R,p,a)=>{a.r(p),a.d(p,{DashboardProductorComponent:()=>j});var i=a(2615),d=a(2200),g=a(6176),_=a(8132),l=a(9675),f=a(6562),u=a(8010),n=a(3664);const b=()=>({exact:!0});function C(t,r){if(1&t&&(n.j41(0,"div",34)(1,"h3"),n.EFF(2),n.k0s(),n.j41(3,"p"),n.EFF(4),n.k0s()()),2&t){const o=n.XpG(2);n.R7$(2),n.JRh(o.productor.nombre),n.R7$(2),n.JRh(null==o.currentUser?null:o.currentUser.email)}}function P(t,r){if(1&t&&(n.j41(0,"div",30)(1,"div",31),n.nrm(2,"img",32),n.k0s(),n.DNE(3,C,5,2,"div",33),n.k0s()),2&t){const o=n.XpG();n.R7$(2),n.Y8G("src",o.productor.imagenUrl||"/images/default-producer.png",n.B4B)("alt",o.productor.nombre),n.R7$(),n.Y8G("ngIf",!o.sidebarCollapsed)}}function m(t,r){1&t&&(n.j41(0,"span"),n.EFF(1,"Dashboard"),n.k0s())}function h(t,r){1&t&&(n.j41(0,"span"),n.EFF(1,"Mi Perfil"),n.k0s())}function x(t,r){1&t&&(n.j41(0,"span"),n.EFF(1,"Mis Productos"),n.k0s())}function M(t,r){1&t&&(n.j41(0,"span"),n.EFF(1,"Categor\xedas"),n.k0s())}function O(t,r){1&t&&(n.j41(0,"span"),n.EFF(1,"Pedidos"),n.k0s())}function v(t,r){1&t&&(n.j41(0,"span"),n.EFF(1,"Cerrar Sesi\xf3n"),n.k0s())}function k(t,r){if(1&t&&(n.j41(0,"div",51)(1,"div",52)(2,"div",53),n.nrm(3,"i",54),n.k0s(),n.j41(4,"div",55)(5,"h3"),n.EFF(6),n.k0s(),n.j41(7,"p"),n.EFF(8,"Productos Activos"),n.k0s()()(),n.j41(9,"div",52)(10,"div",53),n.nrm(11,"i",56),n.k0s(),n.j41(12,"div",55)(13,"h3"),n.EFF(14),n.k0s(),n.j41(15,"p"),n.EFF(16,"Ventas Este Mes"),n.k0s()()(),n.j41(17,"div",52)(18,"div",53),n.nrm(19,"i",57),n.k0s(),n.j41(20,"div",55)(21,"h3"),n.EFF(22),n.nI1(23,"number"),n.k0s(),n.j41(24,"p"),n.EFF(25,"Ingresos del Mes"),n.k0s()()(),n.j41(26,"div",52)(27,"div",53),n.nrm(28,"i",58),n.k0s(),n.j41(29,"div",55)(30,"h3"),n.EFF(31),n.k0s(),n.j41(32,"p"),n.EFF(33,"Valoraci\xf3n Media"),n.k0s()()()()),2&t){const o=n.XpG(2);n.R7$(6),n.JRh(o.estadisticas.totalProductos||0),n.R7$(8),n.JRh(o.estadisticas.totalVentas||0),n.R7$(8),n.SpI("\u20ac",n.i5U(23,4,o.estadisticas.ingresosMes||0,"1.2-2")),n.R7$(9),n.JRh(o.estadisticas.valoracion||"N/A")}}function E(t,r){if(1&t&&(n.j41(0,"div",35),n.DNE(1,k,34,7,"div",36),n.j41(2,"div",37)(3,"h2"),n.EFF(4,"Acciones R\xe1pidas"),n.k0s(),n.j41(5,"div",38)(6,"a",39),n.nrm(7,"i",40),n.j41(8,"h3"),n.EFF(9,"Agregar Producto"),n.k0s(),n.j41(10,"p"),n.EFF(11,"A\xf1ade un nuevo producto a tu cat\xe1logo"),n.k0s()(),n.j41(12,"a",41),n.nrm(13,"i",42),n.j41(14,"h3"),n.EFF(15,"Nueva Categor\xeda"),n.k0s(),n.j41(16,"p"),n.EFF(17,"Crea una nueva categor\xeda de productos"),n.k0s()(),n.j41(18,"a",43),n.nrm(19,"i",44),n.j41(20,"h3"),n.EFF(21,"Actualizar Perfil"),n.k0s(),n.j41(22,"p"),n.EFF(23,"Modifica la informaci\xf3n de tu empresa"),n.k0s()(),n.j41(24,"a",45),n.nrm(25,"i",46),n.j41(26,"h3"),n.EFF(27,"Ver Pedidos"),n.k0s(),n.j41(28,"p"),n.EFF(29,"Gestiona los pedidos recibidos"),n.k0s()()()(),n.j41(30,"div",47)(31,"div",48)(32,"h2"),n.EFF(33,"Productos Recientes"),n.k0s(),n.j41(34,"a",49),n.EFF(35,"Ver Todos"),n.k0s()(),n.j41(36,"div",50)(37,"p"),n.EFF(38,"Aqu\xed se mostrar\xe1n tus productos m\xe1s recientes"),n.k0s()()()()),2&t){const o=n.XpG();n.R7$(),n.Y8G("ngIf",o.estadisticas)}}function F(t,r){1&t&&(n.j41(0,"div",59),n.nrm(1,"div",60),n.j41(2,"p"),n.EFF(3,"Cargando panel de control..."),n.k0s()())}let j=(()=>{class t{userStore=(0,i.WQX)(l.w);productorService=(0,i.WQX)(f.o);authService=(0,i.WQX)(u.u);router=(0,i.WQX)(g.Ix);productor=null;estadisticas=null;loading=!0;sidebarCollapsed=!1;currentUser=this.userStore.snapshot();ngOnInit(){this.currentUser&&"PRODUCTOR"===this.currentUser.tipoUsuario?this.loadProductorData():this.router.navigateByUrl("/login/productores")}loadProductorData(){this.currentUser&&this.productorService.getProductorPorUsuario(this.currentUser.idUsuario).subscribe({next:o=>{this.productor=o,this.loadEstadisticas()},error:()=>{this.loading=!1}})}loadEstadisticas(){this.productor&&this.productorService.getEstadisticasProductor(this.productor.idProductor).subscribe({next:o=>{this.estadisticas=o,this.loading=!1},error:()=>{this.loading=!1}})}toggleSidebar(){this.sidebarCollapsed=!this.sidebarCollapsed}logout(){this.authService.logout()}static \u0275fac=function(s){return new(s||t)};static \u0275cmp=n.VBU({type:t,selectors:[["app-dashboard-productor"]],decls:44,vars:18,consts:[["loadingTemplate",""],[1,"dashboard"],[1,"dashboard__sidebar"],[1,"sidebar__header"],["href","/",1,"sidebar__brand"],["src","/images/logo_test.svg","alt","Cosecha en Cope","width","120"],[1,"sidebar__toggle",3,"click"],[1,"fas"],["class","sidebar__user",4,"ngIf"],[1,"sidebar__menu"],["routerLink","/productor/dashboard","routerLinkActive","active",3,"routerLinkActiveOptions"],[1,"fas","fa-chart-line"],[4,"ngIf"],["routerLink","/productor/perfil","routerLinkActive","active"],[1,"fas","fa-user-edit"],["routerLink","/productor/articulos","routerLinkActive","active"],[1,"fas","fa-box"],["routerLink","/productor/categorias","routerLinkActive","active"],[1,"fas","fa-tags"],["routerLink","/productor/pedidos","routerLinkActive","active"],[1,"fas","fa-shopping-cart"],[1,"sidebar__footer"],[1,"btn-logout",3,"click"],[1,"fas","fa-sign-out-alt"],[1,"dashboard__main"],[1,"main__header"],[1,"header__actions"],["routerLink","/productor/articulos/nuevo",1,"btn","btn--primary"],[1,"fas","fa-plus"],["class","main__content",4,"ngIf","ngIfElse"],[1,"sidebar__user"],[1,"user__avatar"],[3,"src","alt"],["class","user__info",4,"ngIf"],[1,"user__info"],[1,"main__content"],["class","stats-grid",4,"ngIf"],[1,"quick-actions"],[1,"actions-grid"],["routerLink","/productor/articulos/nuevo",1,"action-card"],[1,"fas","fa-plus-circle"],["routerLink","/productor/categorias/nueva",1,"action-card"],[1,"fas","fa-tag"],["routerLink","/productor/perfil",1,"action-card"],[1,"fas","fa-user-cog"],["routerLink","/productor/pedidos",1,"action-card"],[1,"fas","fa-list-alt"],[1,"recent-products"],[1,"section-header"],["routerLink","/productor/articulos",1,"btn","btn--outline"],[1,"products-placeholder"],[1,"stats-grid"],[1,"stat-card"],[1,"stat-card__icon"],[1,"fas","fa-box","text-blue"],[1,"stat-card__content"],[1,"fas","fa-shopping-cart","text-green"],[1,"fas","fa-euro-sign","text-yellow"],[1,"fas","fa-star","text-orange"],[1,"loading-container"],[1,"spinner"]],template:function(s,e){if(1&s){const c=n.RV6();n.j41(0,"div",1)(1,"nav",2)(2,"div",3)(3,"a",4),n.nrm(4,"img",5),n.k0s(),n.j41(5,"button",6),n.bIt("click",function(){return i.eBV(c),i.Njj(e.toggleSidebar())}),n.nrm(6,"i",7),n.k0s()(),n.DNE(7,P,4,3,"div",8),n.j41(8,"ul",9)(9,"li")(10,"a",10),n.nrm(11,"i",11),n.DNE(12,m,2,0,"span",12),n.k0s()(),n.j41(13,"li")(14,"a",13),n.nrm(15,"i",14),n.DNE(16,h,2,0,"span",12),n.k0s()(),n.j41(17,"li")(18,"a",15),n.nrm(19,"i",16),n.DNE(20,x,2,0,"span",12),n.k0s()(),n.j41(21,"li")(22,"a",17),n.nrm(23,"i",18),n.DNE(24,M,2,0,"span",12),n.k0s()(),n.j41(25,"li")(26,"a",19),n.nrm(27,"i",20),n.DNE(28,O,2,0,"span",12),n.k0s()()(),n.j41(29,"div",21)(30,"button",22),n.bIt("click",function(){return i.eBV(c),i.Njj(e.logout())}),n.nrm(31,"i",23),n.DNE(32,v,2,0,"span",12),n.k0s()()(),n.j41(33,"main",24)(34,"header",25)(35,"h1"),n.EFF(36,"Panel de Control"),n.k0s(),n.j41(37,"div",26)(38,"button",27),n.nrm(39,"i",28),n.EFF(40," Nuevo Producto "),n.k0s()()(),n.DNE(41,E,39,1,"div",29)(42,F,4,0,"ng-template",null,0,n.C5r),n.k0s()()}if(2&s){const c=n.sdS(43);n.AVh("sidebar-collapsed",e.sidebarCollapsed),n.R7$(5),n.BMQ("aria-label",e.sidebarCollapsed?"Expandir men\xfa":"Contraer men\xfa"),n.R7$(),n.AVh("fa-bars",e.sidebarCollapsed)("fa-times",!e.sidebarCollapsed),n.R7$(),n.Y8G("ngIf",e.productor),n.R7$(3),n.Y8G("routerLinkActiveOptions",n.lJ4(17,b)),n.R7$(2),n.Y8G("ngIf",!e.sidebarCollapsed),n.R7$(4),n.Y8G("ngIf",!e.sidebarCollapsed),n.R7$(4),n.Y8G("ngIf",!e.sidebarCollapsed),n.R7$(4),n.Y8G("ngIf",!e.sidebarCollapsed),n.R7$(4),n.Y8G("ngIf",!e.sidebarCollapsed),n.R7$(4),n.Y8G("ngIf",!e.sidebarCollapsed),n.R7$(9),n.Y8G("ngIf",!e.loading)("ngIfElse",c)}},dependencies:[d.MD,d.bT,_.iI,_.Wk,_.wQ,d.QX],styles:['.dashboard[_ngcontent-%COMP%]{display:flex;min-height:100vh;background-color:#f8fafc}.dashboard__sidebar[_ngcontent-%COMP%]{width:280px;background:linear-gradient(135deg,#4caf50,#45a049);color:#fff;display:flex;flex-direction:column;position:fixed;height:100vh;z-index:998;transition:all .3s ease;box-shadow:2px 0 10px #0000001a}.sidebar-collapsed[_ngcontent-%COMP%]   .dashboard__sidebar[_ngcontent-%COMP%]{width:70px}.sidebar__header[_ngcontent-%COMP%]{padding:20px;border-bottom:1px solid rgba(255,255,255,.1);display:flex;align-items:center;justify-content:space-between}.sidebar-collapsed[_ngcontent-%COMP%]   .sidebar__header[_ngcontent-%COMP%]{padding:20px 15px;justify-content:center}.sidebar__brand[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{filter:brightness(0) invert(1);transition:all .3s ease}.sidebar-collapsed[_ngcontent-%COMP%]   .sidebar__brand[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:40px}.sidebar__toggle[_ngcontent-%COMP%]{background:none;border:none;color:#fff;font-size:18px;cursor:pointer;padding:8px;border-radius:4px;transition:all .3s ease}.sidebar__toggle[_ngcontent-%COMP%]:hover{background-color:#ffffff1a}.sidebar__user[_ngcontent-%COMP%]{padding:20px;border-bottom:1px solid rgba(255,255,255,.1);display:flex;align-items:center;gap:15px}.sidebar-collapsed[_ngcontent-%COMP%]   .sidebar__user[_ngcontent-%COMP%]{padding:20px 15px;justify-content:center}.user__avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50px;height:50px;border:2px solid rgba(255,255,255,.2);object-fit:cover}.sidebar-collapsed[_ngcontent-%COMP%]   .user__avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:40px;height:40px}.user__info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:16px;font-weight:600;margin:0 0 4px}.user__info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;margin:0;opacity:.8}.sidebar__menu[_ngcontent-%COMP%]{flex:1;list-style:none;padding:20px 0;margin:0}.sidebar__menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:5px}.sidebar__menu[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:flex;align-items:center;gap:15px;padding:15px 20px;color:#ffffffe6;text-decoration:none;transition:all .3s ease;position:relative}.sidebar-collapsed[_ngcontent-%COMP%]   .sidebar__menu[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:15px;justify-content:center}.sidebar__menu[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#ffffff1a;color:#fff}.sidebar__menu[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{background-color:#fff3;color:#fff}.sidebar__menu[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]:before{content:"";position:absolute;left:0;top:0;bottom:0;width:4px;background-color:#fff}.sidebar__menu[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:18px;width:20px;text-align:center}.sidebar__menu[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:500}.sidebar__footer[_ngcontent-%COMP%]{padding:20px;border-top:1px solid rgba(255,255,255,.1)}.sidebar-collapsed[_ngcontent-%COMP%]   .sidebar__footer[_ngcontent-%COMP%]{padding:20px 15px}.btn-logout[_ngcontent-%COMP%]{background:none;border:1px solid rgba(255,255,255,.3);color:#fff;width:100%;padding:12px;border-radius:8px;cursor:pointer;display:flex;align-items:center;gap:10px;justify-content:center;transition:all .3s ease}.sidebar-collapsed[_ngcontent-%COMP%]   .btn-logout[_ngcontent-%COMP%]{padding:12px 8px}.btn-logout[_ngcontent-%COMP%]:hover{background-color:#ffffff1a;border-color:#ffffff80}.btn-logout[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:16px}.dashboard__main[_ngcontent-%COMP%]{flex:1;margin-left:280px;transition:all .3s ease}.sidebar-collapsed[_ngcontent-%COMP%]   .dashboard__main[_ngcontent-%COMP%]{margin-left:70px}.main__header[_ngcontent-%COMP%]{background:#fff;padding:20px 30px;border-bottom:1px solid #e2e8f0;display:flex;align-items:center;justify-content:space-between;box-shadow:0 1px 3px #0000001a}.main__header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:28px;font-weight:700;color:#1a202c;margin:0}.header__actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:12px 20px;border-radius:8px;font-weight:600;text-decoration:none;display:inline-flex;align-items:center;gap:8px;transition:all .3s ease}.header__actions[_ngcontent-%COMP%]   .btn--primary[_ngcontent-%COMP%]{background:#4caf50;color:#fff;border:none}.header__actions[_ngcontent-%COMP%]   .btn--primary[_ngcontent-%COMP%]:hover{background:#45a049;transform:translateY(-1px)}.header__actions[_ngcontent-%COMP%]   .btn--outline[_ngcontent-%COMP%]{background:transparent;color:#4caf50;border:2px solid #4caf50}.header__actions[_ngcontent-%COMP%]   .btn--outline[_ngcontent-%COMP%]:hover{background:#4caf50;color:#fff}.main__content[_ngcontent-%COMP%]{padding:30px}.stats-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:20px;margin-bottom:40px}.stat-card[_ngcontent-%COMP%]{background:#fff;padding:24px;border-radius:12px;box-shadow:0 2px 8px #0000001a;display:flex;align-items:center;gap:20px;transition:all .3s ease}.stat-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 15px #00000026}.stat-card__icon[_ngcontent-%COMP%]{width:60px;height:60px;border-radius:12px;display:flex;align-items:center;justify-content:center}.stat-card__icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:28px}.stat-card__icon[_ngcontent-%COMP%]   i.text-blue[_ngcontent-%COMP%]{color:#3b82f6;background-color:#eff6ff}.stat-card__icon[_ngcontent-%COMP%]   i.text-green[_ngcontent-%COMP%]{color:#10b981;background-color:#f0fdf4}.stat-card__icon[_ngcontent-%COMP%]   i.text-yellow[_ngcontent-%COMP%]{color:#f59e0b;background-color:#fffbeb}.stat-card__icon[_ngcontent-%COMP%]   i.text-orange[_ngcontent-%COMP%]{color:#f97316;background-color:#fff7ed}.stat-card__content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:32px;font-weight:700;color:#1a202c;margin:0 0 8px}.stat-card__content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;color:#64748b;margin:0;font-weight:500}.quick-actions[_ngcontent-%COMP%]{margin-bottom:40px}.quick-actions[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:24px;font-weight:700;color:#1a202c;margin-bottom:20px}.actions-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:20px}.action-card[_ngcontent-%COMP%]{background:#fff;padding:24px;border-radius:12px;box-shadow:0 2px 8px #0000001a;text-decoration:none;color:inherit;transition:all .3s ease;border:2px solid transparent}.action-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 15px #00000026;border-color:#4caf50;color:inherit;text-decoration:none}.action-card[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:32px;color:#4caf50;margin-bottom:15px}.action-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:18px;font-weight:600;color:#1a202c;margin-bottom:8px}.action-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;color:#64748b;margin:0;line-height:1.5}.recent-products[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:24px;font-weight:700;color:#1a202c;margin-bottom:20px}.section-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin-bottom:20px}.products-placeholder[_ngcontent-%COMP%]{background:#fff;padding:40px;border-radius:12px;box-shadow:0 2px 8px #0000001a;text-align:center}.products-placeholder[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#64748b;font-size:16px;margin:0}.loading-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:400px}.loading-container[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{width:40px;height:40px;border:3px solid #e2e8f0;border-top:3px solid #4caf50;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin-bottom:20px}.loading-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#64748b;font-size:16px}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@media (max-width: 768px){.dashboard__sidebar[_ngcontent-%COMP%]{transform:translate(-100%)}.dashboard__sidebar.mobile-open[_ngcontent-%COMP%]{transform:translate(0)}.dashboard__main[_ngcontent-%COMP%]{margin-left:0}.stats-grid[_ngcontent-%COMP%], .actions-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.main__header[_ngcontent-%COMP%]{padding:15px 20px}.main__header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:24px}.main__content[_ngcontent-%COMP%]{padding:20px}}']})}return t})()}}]);