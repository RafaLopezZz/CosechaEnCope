"use strict";(self.webpackChunkcosecha_en_cope=self.webpackChunkcosecha_en_cope||[]).push([[117],{6117:(D,p,l)=>{l.r(p),l.d(p,{CategoriasProductorComponent:()=>T});var i=l(2615),d=l(2200),s=l(9417),u=l(6802),m=l(9675),_=l(6562),f=l(4123),e=l(3664);function C(r,c){if(1&r){const t=e.RV6();e.j41(0,"button",11),e.bIt("click",function(){i.eBV(t);const n=e.XpG();return i.Njj(n.showNewForm())}),e.nrm(1,"i",12),e.EFF(2," Nueva Categor\xeda "),e.k0s()}}function h(r,c){1&r&&(e.j41(0,"p",34),e.EFF(1," Selecciona una imagen para tu categor\xeda (JPG, PNG, GIF, WEBP - m\xe1x. 10MB) "),e.k0s())}function b(r,c){1&r&&(e.j41(0,"span"),e.EFF(1,"El nombre es obligatorio"),e.k0s())}function x(r,c){1&r&&(e.j41(0,"span"),e.EFF(1,"El nombre debe tener al menos 2 caracteres"),e.k0s())}function P(r,c){if(1&r&&(e.j41(0,"div",35),e.DNE(1,b,2,0,"span",36)(2,x,2,0,"span",36),e.k0s()),2&r){let t,o;const n=e.XpG(2);e.R7$(),e.Y8G("ngIf",null==(t=n.form.get("nombre"))||null==t.errors?null:t.errors.required),e.R7$(),e.Y8G("ngIf",null==(o=n.form.get("nombre"))||null==o.errors?null:o.errors.minlength)}}function v(r,c){1&r&&(e.j41(0,"span"),e.EFF(1,"La descripci\xf3n es obligatoria"),e.k0s())}function O(r,c){1&r&&(e.j41(0,"span"),e.EFF(1,"La descripci\xf3n debe tener al menos 10 caracteres"),e.k0s())}function M(r,c){if(1&r&&(e.j41(0,"div",35),e.DNE(1,v,2,0,"span",36)(2,O,2,0,"span",36),e.k0s()),2&r){let t,o;const n=e.XpG(2);e.R7$(),e.Y8G("ngIf",null==(t=n.form.get("descripcion"))||null==t.errors?null:t.errors.required),e.R7$(),e.Y8G("ngIf",null==(o=n.form.get("descripcion"))||null==o.errors?null:o.errors.minlength)}}function k(r,c){1&r&&e.nrm(0,"i",37)}function E(r,c){1&r&&e.nrm(0,"div",38)}function y(r,c){if(1&r){const t=e.RV6();e.j41(0,"div",13)(1,"div",14)(2,"div",15)(3,"h2"),e.EFF(4),e.k0s(),e.j41(5,"button",16),e.bIt("click",function(){i.eBV(t);const n=e.XpG();return i.Njj(n.cancelForm())}),e.nrm(6,"i",17),e.k0s()(),e.j41(7,"form",18),e.bIt("ngSubmit",function(){i.eBV(t);const n=e.XpG();return i.Njj(n.onSubmit())}),e.j41(8,"div",19)(9,"h3"),e.EFF(10,"Imagen de la Categor\xeda"),e.k0s(),e.j41(11,"div",19)(12,"h3"),e.EFF(13,"Imagen del Producto"),e.k0s(),e.j41(14,"app-image-upload-panel",20,1),e.bIt("imageUploaded",function(n){i.eBV(t);const a=e.XpG();return i.Njj(a.onImageUploaded(n))})("imageRemoved",function(){i.eBV(t);const n=e.XpG();return i.Njj(n.onImageRemoved())}),e.k0s()(),e.DNE(16,h,2,0,"p",21),e.k0s(),e.j41(17,"div",19)(18,"div",22)(19,"div",23)(20,"label",24),e.EFF(21,"Nombre de la Categor\xeda *"),e.k0s(),e.nrm(22,"input",25),e.DNE(23,P,3,2,"div",26),e.k0s()(),e.j41(24,"div",22)(25,"div",23)(26,"label",27),e.EFF(27,"Descripci\xf3n *"),e.k0s(),e.nrm(28,"textarea",28),e.DNE(29,M,3,2,"div",26),e.k0s()()(),e.j41(30,"div",29)(31,"button",30),e.bIt("click",function(){i.eBV(t);const n=e.XpG();return i.Njj(n.cancelForm())}),e.EFF(32,"Cancelar"),e.k0s(),e.j41(33,"button",31),e.DNE(34,k,1,0,"i",32)(35,E,1,0,"div",33),e.EFF(36),e.k0s()()()()()}if(2&r){let t,o;const n=e.XpG();e.R7$(4),e.JRh(n.editingCategoria?"Editar Categor\xeda":"Nueva Categor\xeda"),e.R7$(3),e.Y8G("formGroup",n.form),e.R7$(7),e.Y8G("currentImageUrl",n.imagePreview||n.form.value.imagenUrl||void 0),e.R7$(2),e.Y8G("ngIf",!n.selectedFile),e.R7$(7),e.Y8G("ngIf",(null==(t=n.form.get("nombre"))?null:t.touched)&&(null==(t=n.form.get("nombre"))?null:t.errors)),e.R7$(6),e.Y8G("ngIf",(null==(o=n.form.get("descripcion"))?null:o.touched)&&(null==(o=n.form.get("descripcion"))?null:o.errors)),e.R7$(4),e.Y8G("disabled",n.form.invalid||n.saving||n.uploadingImage),e.R7$(),e.Y8G("ngIf",!n.saving&&!n.uploadingImage),e.R7$(),e.Y8G("ngIf",n.saving||n.uploadingImage),e.R7$(),e.SpI(" ",n.saving||n.uploadingImage?"Guardando...":n.editingCategoria?"Actualizar":"Crear Categor\xeda"," ")}}function w(r,c){if(1&r){const t=e.RV6();e.j41(0,"div",43)(1,"div",44)(2,"img",45),e.bIt("error",function(n){i.eBV(t);const a=e.XpG(3);return i.Njj(a.onImageError(n))}),e.k0s()(),e.j41(3,"div",46)(4,"h3"),e.EFF(5),e.k0s(),e.j41(6,"p"),e.EFF(7),e.k0s()(),e.j41(8,"div",47)(9,"button",48),e.bIt("click",function(){const n=i.eBV(t).$implicit,a=e.XpG(3);return i.Njj(a.editCategoria(n))}),e.nrm(10,"i",49),e.k0s(),e.j41(11,"button",50),e.bIt("click",function(){const n=i.eBV(t).$implicit,a=e.XpG(3);return i.Njj(a.deleteCategoria(n))}),e.nrm(12,"i",51),e.k0s()()()}if(2&r){const t=c.$implicit;e.R7$(2),e.Y8G("src",t.imagenUrl||"/images/default-category.png",e.B4B)("alt",t.nombre),e.R7$(3),e.JRh(t.nombre),e.R7$(2),e.JRh(t.descripcion)}}function I(r,c){if(1&r&&(e.j41(0,"div",41),e.DNE(1,w,13,4,"div",42),e.k0s()),2&r){const t=e.XpG(2);e.R7$(),e.Y8G("ngForOf",t.categorias)}}function j(r,c){if(1&r){const t=e.RV6();e.j41(0,"div",52)(1,"div",53),e.nrm(2,"i",54),e.k0s(),e.j41(3,"h3"),e.EFF(4,"No hay categor\xedas"),e.k0s(),e.j41(5,"p"),e.EFF(6,"Empieza creando tu primera categor\xeda de productos."),e.k0s(),e.j41(7,"button",11),e.bIt("click",function(){i.eBV(t);const n=e.XpG(2);return i.Njj(n.showNewForm())}),e.nrm(8,"i",12),e.EFF(9," Crear Primera Categor\xeda "),e.k0s()()}}function F(r,c){if(1&r&&(e.j41(0,"div",39),e.DNE(1,I,2,1,"div",40)(2,j,10,0,"ng-template",null,2,e.C5r),e.k0s()),2&r){const t=e.sdS(3),o=e.XpG();e.R7$(),e.Y8G("ngIf",o.categorias.length>0)("ngIfElse",t)}}function U(r,c){1&r&&(e.j41(0,"div",55),e.nrm(1,"div",56),e.j41(2,"p"),e.EFF(3,"Cargando categor\xedas..."),e.k0s()())}let T=(()=>{class r{fb=(0,i.WQX)(s.ok);userStore=(0,i.WQX)(m.w);productorService=(0,i.WQX)(_.o);router=(0,i.WQX)(u.Ix);route=(0,i.WQX)(u.nX);productor=null;categorias=[];loading=!0;showForm=!1;editingCategoria=null;saving=!1;imagePrwview=null;currentUser=this.userStore.snapshot();selectedFile=null;uploadingImage=!1;imagePreview=null;form=this.fb.nonNullable.group({nombre:["",[s.k0.required,s.k0.minLength(2)]],descripcion:["",[s.k0.required,s.k0.minLength(10)]],imagenUrl:[""]});ngOnInit(){if(this.currentUser=this.userStore.snapshot(),!this.currentUser){const o=sessionStorage.getItem("authToken");if(!o)return console.error("No user found and no token in sessionStorage"),void this.router.navigateByUrl("/login/productores");try{const n=JSON.parse(atob(o.split(".")[1]));return console.log("Token payload:",n),alert("Error: Sesi\xf3n inconsistente. Por favor, inicie sesi\xf3n nuevamente."),void this.router.navigateByUrl("/login/productores")}catch(n){return console.error("Error decoding token:",n),void this.router.navigateByUrl("/login/productores")}}if("PRODUCTOR"!==this.currentUser.tipoUsuario)return console.error("User is not a producer:",this.currentUser),void this.router.navigateByUrl("/login/productores");console.log("Current user validated:",this.currentUser),console.log("User properties:",Object.keys(this.currentUser)),console.log("User ID field value:",this.currentUser.idUsuario),this.route.snapshot.url.some(o=>"nuevo"===o.path)&&(this.showForm=!0),this.loadData()}loadData(){if(this.currentUser=this.userStore.snapshot(),!this.currentUser)return console.error("No current user found in store"),alert("Error: No se ha iniciado sesi\xf3n correctamente"),void this.router.navigateByUrl("/login/productores");if(!this.currentUser.idUsuario)return console.error("Current user has no ID:",this.currentUser),alert("Error: El usuario no tiene un ID v\xe1lido"),void this.router.navigateByUrl("/login/productores");console.log("Loading data for user:",this.currentUser);const t=sessionStorage.getItem("authToken");if(console.log("Token in sessionStorage:",t?t.substring(0,50)+"...":"null"),!t)return console.error("No token found in sessionStorage"),alert("Error: No se encontr\xf3 token de autenticaci\xf3n. Por favor, inicie sesi\xf3n nuevamente."),void this.router.navigateByUrl("/login/productores");try{const o=JSON.parse(atob(t.split(".")[1])),n=Math.floor(Date.now()/1e3);if(console.log("Token payload:",o),console.log("Token exp:",o.exp,"Current time:",n),o.exp&&o.exp<n)return console.error("Token has expired"),alert("Su sesi\xf3n ha expirado. Por favor, inicie sesi\xf3n nuevamente."),void console.warn("\u{1f6a8} Token expired - but NOT clearing session for debugging")}catch(o){return console.error("Error decoding token:",o),alert("Token inv\xe1lido. Por favor, inicie sesi\xf3n nuevamente."),void console.warn("\u{1f6a8} Invalid token - but NOT clearing session for debugging")}console.log("Attempting to load productor for user ID:",this.currentUser.idUsuario),this.productorService.getProductorPorUsuario(this.currentUser.idUsuario).subscribe({next:o=>{console.log("Productor loaded:",o),this.productor=o,this.loadCategorias()},error:o=>{console.error("Error loading productor:",o),console.log("Error details:",{status:o.status,statusText:o.statusText,message:o.message,url:o.url});let n="Error al cargar la informaci\xf3n del productor. ";401===o.status?(n+="Su sesi\xf3n ha expirado o no tiene permisos. Por favor, inicie sesi\xf3n nuevamente.",console.warn("\u{1f6a8} 401 error detected - but NOT clearing session for debugging")):n+=404===o.status?"No se encontr\xf3 informaci\xf3n de productor para este usuario.":0===o.status?"No se pudo conectar con el servidor. Verifique su conexi\xf3n a internet.":`Error del servidor (${o.status}). Int\xe9ntelo de nuevo m\xe1s tarde.`,alert(n)}})}onImageUploaded(t){this.form.patchValue({imagenUrl:t}),this.imagePreview=t}onImageRemoved(){this.form.patchValue({imagenUrl:""}),this.imagePreview=null}loadCategorias(){this.productorService.getCategorias().subscribe({next:t=>{this.categorias=t,this.loading=!1},error:()=>{this.loading=!1}})}showNewForm(){this.editingCategoria=null,this.form.reset(),this.selectedFile=null,this.imagePreview=null,this.uploadingImage=!1,this.showForm=!0}editCategoria(t){this.editingCategoria=t,this.form.patchValue({nombre:t.nombre,descripcion:t.descripcion}),t.imagenUrl&&(this.imagePreview=t.imagenUrl),this.showForm=!0}cancelForm(){this.showForm=!1,this.editingCategoria=null,this.form.reset(),this.selectedFile=null,this.imagePreview=null,this.uploadingImage=!1;const t=document.getElementById("imagen");t&&(t.value="")}onSubmit(){if(!this.productor)return console.error("No se encontr\xf3 informaci\xf3n del productor"),void alert("Error: No se encontr\xf3 informaci\xf3n del productor");if(this.form.invalid)return console.error("Form is invalid:",{formErrors:this.form.errors,formValue:this.form.value,controls:Object.keys(this.form.controls).map(a=>({key:a,errors:this.form.get(a)?.errors,value:this.form.get(a)?.value}))}),Object.keys(this.form.controls).forEach(a=>{this.form.get(a)?.markAsTouched()}),void alert("Por favor, completa todos los campos obligatorios correctamente");this.saving=!0;const t=this.form.getRawValue(),o={nombre:t.nombre.trim(),descripcion:t.descripcion.trim(),imagenUrl:t.imagenUrl||this.editingCategoria?.imagenUrl||""};console.log("Sending request to create/update categoria:",o),(this.editingCategoria?this.productorService.updateCategoria(this.editingCategoria.idCategoria,o):this.productorService.createCategoria(o)).subscribe({next:a=>{console.log("Categoria saved successfully:",a),this.loadCategorias(),this.cancelForm(),this.saving=!1,alert(this.editingCategoria?"Categor\xeda actualizada correctamente":"Categor\xeda creada correctamente")},error:a=>{console.error("Error saving categoria:",a);let g="Error al guardar la categor\xeda. ";g+=400===a.status?"Verifique que todos los campos est\xe9n completos y sean v\xe1lidos.":401===a.status?"No tiene permisos para realizar esta operaci\xf3n.":404===a.status?"No se encontr\xf3 el recurso solicitado.":500===a.status?"Error interno del servidor.":a.error?.message?a.error.message:"Int\xe9ntalo de nuevo.",alert(g),this.saving=!1}})}deleteCategoria(t){confirm(`\xbfEst\xe1s seguro de que quieres eliminar la categor\xeda "${t.nombre}"?`)&&this.productorService.deleteCategoria(t.idCategoria).subscribe({next:()=>{this.loadCategorias(),alert("Categor\xeda eliminada correctamente")},error:o=>{console.error("Error deleting categoria:",o),409===o.status||o.error&&o.error.message&&o.error.message.includes("constraint")?alert("No se puede eliminar la categor\xeda porque tiene productos asociados."):alert("Error al eliminar la categor\xeda. Int\xe9ntalo de nuevo.")}})}goBack(){this.router.navigateByUrl("/productor/dashboard")}onImageError(t){t.target.src="/images/default-category.png"}static \u0275fac=function(o){return new(o||r)};static \u0275cmp=e.VBU({type:r,selectors:[["app-categorias-productor"]],decls:13,vars:4,consts:[["loadingTemplate",""],["imageUploader",""],["noCategorias",""],[1,"categorias-container"],[1,"categorias-header"],[1,"btn-back",3,"click"],[1,"fas","fa-arrow-left"],[1,"header-content"],["class","btn btn--primary",3,"click",4,"ngIf"],["class","form-container",4,"ngIf"],["class","categorias-content",4,"ngIf","ngIfElse"],[1,"btn","btn--primary",3,"click"],[1,"fas","fa-plus"],[1,"form-container"],[1,"form-card"],[1,"form-header"],[1,"btn-close",3,"click"],[1,"fas","fa-times"],[1,"categoria-form",3,"ngSubmit","formGroup"],[1,"form-section"],["uploadType","articulo",3,"imageUploaded","imageRemoved","currentImageUrl"],["class","upload-hint",4,"ngIf"],[1,"form-row"],[1,"form-group"],["for","nombre"],["type","text","id","nombre","formControlName","nombre","placeholder","Ej: Frutas, Verduras, L\xe1cteos",1,"form-control"],["class","field-error",4,"ngIf"],["for","descripcion"],["id","descripcion","formControlName","descripcion","rows","4","placeholder","Describe qu\xe9 tipo de productos incluye esta categor\xeda...",1,"form-control"],[1,"form-actions"],["type","button",1,"btn","btn--outline",3,"click"],["type","submit",1,"btn","btn--primary",3,"disabled"],["class","fas fa-save",4,"ngIf"],["class","button-spinner",4,"ngIf"],[1,"upload-hint"],[1,"field-error"],[4,"ngIf"],[1,"fas","fa-save"],[1,"button-spinner"],[1,"categorias-content"],["class","categorias-grid",4,"ngIf","ngIfElse"],[1,"categorias-grid"],["class","categoria-card",4,"ngFor","ngForOf"],[1,"categoria-card"],[1,"categoria-image"],[3,"error","src","alt"],[1,"categoria-content"],[1,"categoria-actions"],["title","Editar categor\xeda",1,"btn-action","btn-action--edit",3,"click"],[1,"fas","fa-edit"],["title","Eliminar categor\xeda",1,"btn-action","btn-action--delete",3,"click"],[1,"fas","fa-trash"],[1,"empty-state"],[1,"empty-icon"],[1,"fas","fa-tags"],[1,"loading-container"],[1,"spinner"]],template:function(o,n){if(1&o){const a=e.RV6();e.j41(0,"div",3)(1,"div",4)(2,"button",5),e.bIt("click",function(){return i.eBV(a),i.Njj(n.goBack())}),e.nrm(3,"i",6),e.EFF(4," Volver al Dashboard "),e.k0s(),e.j41(5,"div",7)(6,"h1"),e.EFF(7,"Gesti\xf3n de Categor\xedas"),e.k0s(),e.DNE(8,C,3,0,"button",8),e.k0s()(),e.DNE(9,y,37,10,"div",9)(10,F,4,2,"div",10)(11,U,4,0,"ng-template",null,0,e.C5r),e.k0s()}if(2&o){const a=e.sdS(12);e.R7$(8),e.Y8G("ngIf",!n.showForm),e.R7$(),e.Y8G("ngIf",n.showForm),e.R7$(),e.Y8G("ngIf",!n.loading)("ngIfElse",a)}},dependencies:[d.MD,d.Sq,d.bT,s.X1,s.qT,s.me,s.BC,s.cb,s.j4,s.JD,f._],styles:[".categorias-container[_ngcontent-%COMP%]{min-height:100vh;background-color:#f8fafc;padding:20px}.categorias-header[_ngcontent-%COMP%]{margin-bottom:30px}.categorias-header[_ngcontent-%COMP%]   .btn-back[_ngcontent-%COMP%]{background:none;border:none;color:#64748b;font-size:14px;cursor:pointer;display:flex;align-items:center;gap:8px;margin-bottom:15px;padding:8px 0;transition:color .3s ease}.categorias-header[_ngcontent-%COMP%]   .btn-back[_ngcontent-%COMP%]:hover{color:#4caf50}.categorias-header[_ngcontent-%COMP%]   .btn-back[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:16px}.categorias-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;flex-wrap:wrap;gap:20px}.categorias-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:32px;font-weight:700;color:#1a202c;margin:0}.form-container[_ngcontent-%COMP%]{margin-bottom:30px}.form-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 2px 8px #0000001a;overflow:hidden}.form-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:25px 30px;border-bottom:1px solid #e2e8f0}.form-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:24px;font-weight:600;color:#1a202c;margin:0}.form-header[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]{background:none;border:none;color:#64748b;font-size:18px;cursor:pointer;padding:8px;border-radius:50%;transition:all .3s ease}.form-header[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]:hover{background-color:#f1f5f9;color:#ef4444}.categoria-form[_ngcontent-%COMP%]{padding:30px}.form-section[_ngcontent-%COMP%]{margin-bottom:30px}.form-section[_ngcontent-%COMP%]:last-child{margin-bottom:0}.form-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:18px;font-weight:600;color:#1a202c;margin:0 0 20px;padding-bottom:8px;border-bottom:2px solid #4caf50;display:inline-block}.image-upload-container[_ngcontent-%COMP%]{display:flex;gap:30px;align-items:flex-start}@media (max-width: 768px){.image-upload-container[_ngcontent-%COMP%]{flex-direction:column;gap:20px}}.image-preview[_ngcontent-%COMP%]{position:relative;width:150px;height:150px;border-radius:12px;overflow:hidden;border:3px solid #e2e8f0;background-color:#f8fafc}.image-preview[_ngcontent-%COMP%]   .preview-image[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.image-preview[_ngcontent-%COMP%]   .upload-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background-color:#000000b3;display:flex;flex-direction:column;align-items:center;justify-content:center;color:#fff}.image-preview[_ngcontent-%COMP%]   .upload-overlay[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{width:24px;height:24px;border:2px solid rgba(255,255,255,.3);border-top:2px solid white;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin-bottom:8px}.image-preview[_ngcontent-%COMP%]   .upload-overlay[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:12px;margin:0}.image-placeholder[_ngcontent-%COMP%]{width:150px;height:150px;border:3px dashed #cbd5e0;border-radius:12px;display:flex;flex-direction:column;align-items:center;justify-content:center;background-color:#f8fafc;color:#a0aec0}.image-placeholder[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:32px;margin-bottom:8px}.image-placeholder[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:12px;margin:0;text-align:center}.upload-controls[_ngcontent-%COMP%]{flex:1}.upload-controls[_ngcontent-%COMP%]   .file-input[_ngcontent-%COMP%]{display:none}.upload-controls[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:8px;cursor:pointer;margin-bottom:10px;margin-right:10px}.upload-controls[_ngcontent-%COMP%]   .btn--danger[_ngcontent-%COMP%]{color:#ef4444;border-color:#ef4444}.upload-controls[_ngcontent-%COMP%]   .btn--danger[_ngcontent-%COMP%]:hover:not(:disabled){background:#ef4444;color:#fff}.upload-controls[_ngcontent-%COMP%]   .upload-hint[_ngcontent-%COMP%]{font-size:14px;color:#64748b;margin:10px 0 0}.upload-controls[_ngcontent-%COMP%]   .upload-hint[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{color:#9ca3af}.form-row[_ngcontent-%COMP%]{margin-bottom:20px}.form-row[_ngcontent-%COMP%]:last-child{margin-bottom:0}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-size:14px;font-weight:600;color:#374151;margin-bottom:8px}.form-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{width:100%;padding:12px 16px;border:2px solid #e2e8f0;border-radius:8px;font-size:16px;transition:all .3s ease;background-color:#fff}.form-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus{outline:none;border-color:#4caf50;box-shadow:0 0 0 3px #4caf501a}.form-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]::placeholder{color:#9ca3af}.form-group[_ngcontent-%COMP%]   textarea.form-control[_ngcontent-%COMP%]{resize:vertical;min-height:100px;font-family:inherit}.field-error[_ngcontent-%COMP%]{margin-top:8px;font-size:14px;color:#ef4444;font-weight:500}.form-actions[_ngcontent-%COMP%]{display:flex;gap:15px;justify-content:flex-end;padding-top:20px;border-top:1px solid #e2e8f0;margin-top:30px}@media (max-width: 768px){.form-actions[_ngcontent-%COMP%]{flex-direction:column}}.btn[_ngcontent-%COMP%]{padding:12px 24px;border-radius:8px;font-weight:600;text-decoration:none;display:inline-flex;align-items:center;gap:8px;border:none;cursor:pointer;transition:all .3s ease;justify-content:center;min-width:120px}.btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.btn--primary[_ngcontent-%COMP%]{background:#4caf50;color:#fff}.btn--primary[_ngcontent-%COMP%]:hover:not(:disabled){background:#45a049;transform:translateY(-1px)}.btn--outline[_ngcontent-%COMP%]{background:transparent;color:#4caf50;border:2px solid #4caf50}.btn--outline[_ngcontent-%COMP%]:hover:not(:disabled){background:#4caf50;color:#fff}.button-spinner[_ngcontent-%COMP%]{width:16px;height:16px;border:2px solid rgba(255,255,255,.3);border-top:2px solid white;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}.categorias-content[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto}.categorias-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(300px,1fr));gap:20px}.categoria-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 2px 8px #0000001a;overflow:hidden;transition:all .3s ease;position:relative}.categoria-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 15px #00000026}.categoria-image[_ngcontent-%COMP%]{height:180px;overflow:hidden}.categoria-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;transition:transform .3s ease}.categoria-card[_ngcontent-%COMP%]:hover   .categoria-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{transform:scale(1.05)}.categoria-content[_ngcontent-%COMP%]{padding:20px}.categoria-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:20px;font-weight:600;color:#1a202c;margin:0 0 10px}.categoria-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#64748b;margin:0;line-height:1.5;display:-webkit-box;-webkit-line-clamp:3;-webkit-box-orient:vertical;overflow:hidden}.categoria-actions[_ngcontent-%COMP%]{position:absolute;top:15px;right:15px;display:flex;gap:8px;opacity:0;transition:opacity .3s ease}.categoria-card[_ngcontent-%COMP%]:hover   .categoria-actions[_ngcontent-%COMP%]{opacity:1}.btn-action[_ngcontent-%COMP%]{width:40px;height:40px;border:none;border-radius:50%;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .3s ease;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.btn-action[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:14px}.btn-action--edit[_ngcontent-%COMP%]{background:#3b82f6e6;color:#fff}.btn-action--edit[_ngcontent-%COMP%]:hover{background:#3b82f6;transform:scale(1.1)}.btn-action--delete[_ngcontent-%COMP%]{background:#ef4444e6;color:#fff}.btn-action--delete[_ngcontent-%COMP%]:hover{background:#ef4444;transform:scale(1.1)}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:60px 20px;background:#fff;border-radius:12px;box-shadow:0 2px 8px #0000001a}.empty-state[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%]{width:80px;height:80px;margin:0 auto 20px;background:#f8fafc;border-radius:50%;display:flex;align-items:center;justify-content:center}.empty-state[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:32px;color:#64748b}.empty-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:24px;font-weight:600;color:#1a202c;margin:0 0 10px}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#64748b;margin:0 0 30px;font-size:16px}.loading-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:400px}.loading-container[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{width:40px;height:40px;border:3px solid #e2e8f0;border-top:3px solid #4caf50;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin-bottom:20px}.loading-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#64748b;font-size:16px;margin:0}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@media (max-width: 768px){.categorias-container[_ngcontent-%COMP%]{padding:15px}.categorias-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.categorias-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:28px}.categoria-form[_ngcontent-%COMP%]{padding:20px}.categorias-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.categoria-actions[_ngcontent-%COMP%]{opacity:1}}"]})}return r})()}}]);